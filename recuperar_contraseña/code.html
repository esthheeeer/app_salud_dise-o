<!DOCTYPE html>
<html class="dark" lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Recuperar Contraseña - Salud Madrid</title>

<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;700&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>

<script>
tailwind.config = {
  darkMode: "class",
  theme: {
    extend: {
      colors: {
        "primary": "#135bec",
        "background-light": "#f6f6f8",
        "background-dark": "#101622",
      },
      fontFamily: { display: ["Lexend", "sans-serif"] },
      borderRadius: { DEFAULT:"0.25rem","lg":"0.5rem","xl":"0.75rem","full":"9999px"}
    }
  }
}
</script>

<style>
.material-symbols-outlined {
  font-variation-settings:'FILL' 0,'wght' 400,'GRAD' 0,'opsz' 24;
}
body { min-height: max(884px, 100dvh); }
</style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display">
<div class="relative flex min-h-screen w-full flex-col">

<!-- HEADER -->
<header class="flex items-center p-4 pb-2 justify-between">

<a aria-label="Volver atrás" 
   href="../index.html"
   class="text-slate-800 dark:text-white flex size-12 items-center justify-center rounded-full hover:bg-slate-500/10 transition-colors">
   <span class="material-symbols-outlined text-2xl">arrow_back</span>
</a>

<h1 class="text-slate-800 dark:text-white text-lg font-bold flex-1 text-center">
Recuperar Contraseña
</h1>
<div class="size-12"></div>

</header>

<!-- MAIN -->
<main class="flex flex-col px-4 pt-6 pb-4 flex-1">

<h2 class="text-slate-900 dark:text-white text-[32px] font-bold pb-2">
¿Olvidaste tu contraseña?
</h2>

<p class="text-slate-600 dark:text-slate-300 text-base pb-8">
Introduce tu nueva contraseña para continuar.
</p>

<!-- INPUT -->
<div class="flex max-w-full flex-wrap items-end gap-4 py-3">
<label class="flex flex-col min-w-40 flex-1">
<p class="text-slate-800 dark:text-slate-200 text-base pb-2">
Nueva contraseña
</p>

<div class="flex w-full items-stretch rounded-lg group">
<input id="campo-recuperacion"
       oninput="validarInput()"
       class="form-input flex w-full min-w-0 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 h-14 p-[15px] placeholder:text-slate-400 dark:placeholder:text-slate-500 border-r-0"
       placeholder="Escribe tu nueva contraseña" 
       type="password"/>

<div class="text-slate-400 dark:text-slate-500 flex border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 items-center justify-center pr-[15px] rounded-r-lg border-l-0 group-focus-within:ring-2 group-focus-within:ring-primary">
<span class="material-symbols-outlined text-2xl">lock</span>
</div>
</div>

<!-- MENSAJE DE ERROR ROJO -->
<p id="error-validacion" class="text-red-500 text-sm mt-2"></p>

<!-- TEXTO INFORMATIVO NORMAL -->
<p class="text-slate-600 dark:text-slate-300 text-sm mt-1">
La contraseña debe tener mínimo 8 caracteres, una letra mayúscula y un número.
</p>

</label>
</div>

<p class="text-center text-slate-500 dark:text-slate-400 text-sm py-4">
La contraseña debe cumplir los requisitos indicados para continuar.
</p>

<!-- BOTÓN -->
<div class="flex py-3 w-full">
<a id="boton-reset"
   href="../index.html"
   class="flex w-full min-w-[84px] max-w-[480px] cursor-not-allowed opacity-50 items-center justify-center overflow-hidden rounded-xl h-14 px-5 flex-1 bg-primary text-white text-base font-bold leading-normal tracking-[0.015em] transition-colors">
    <span class="truncate">Restablecer Contraseña</span>
</a>
</div>

<div class="flex justify-center py-4">
<a class="text-primary text-sm font-medium hover:underline"
   href="../sección_de_ayuda/code.html">¿Necesitas ayuda?</a>
</div>

</main>

</div>

<!-- SCRIPT VALIDACIÓN -->
<script>
function validarInput() {
  const campo = document.getElementById("campo-recuperacion");
  const error = document.getElementById("error-validacion");
  const boton = document.getElementById("boton-reset");

  const valor = campo.value.trim();

  const regex = /^(?=.*[A-Z])(?=.*\d).{8,}$/;

  if (valor === "") {
    error.textContent = "";
    boton.classList.add("opacity-50", "cursor-not-allowed");
    boton.style.pointerEvents = "none";
    return;
  }

  if (!regex.test(valor)) {
    error.textContent =
      "La contraseña no cumple los requisitos.";
    
    boton.classList.add("opacity-50", "cursor-not-allowed");
    boton.style.pointerEvents = "none";
  } 
  else {
    error.textContent = "";
    boton.classList.remove("opacity-50", "cursor-not-allowed");
    boton.style.pointerEvents = "auto";
  }
}
</script>

<script src="../shared/settings.js"></script>

</body>
</html>
